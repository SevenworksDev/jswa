/*
    jswa v1.1 - https://github.com/SevenworksDev/jswa
    Created by https://sevenworks.eu.org
*/
var jswa=jswa||{};jswa.windows={},jswa.create=function(e,a,t,s,o){var n=window.open("",e,`width=${s},height=${o},left=${a},top=${t}`);jswa.windows[e]={windowRef:n,x:a,y:t,width:s,height:o,title:""}},jswa.move=function(e,a,t,s){var o=jswa.windows[e];if(o){var n=o.x,i=o.y,w=a-n,r=t-i,c=null;requestAnimationFrame(function e(a){c||(c=a);var t=(a-c)/s;if(t<1){var l=n+w*t,f=i+r*t;o.windowRef.moveTo(l,f),requestAnimationFrame(e)}}),o.x=a,o.y=t}},jswa.resize=function(e,a,t){var s=jswa.windows[e];s&&(s.windowRef.resizeTo(a,t),s.width=a,s.height=t)},jswa.write=function(e,a){var t=jswa.windows[e];t&&(t.windowRef.document.body.innerHTML=a)},jswa.title=function(e,a){var t=jswa.windows[e];t&&(t.windowRef.document.title=a,t.title=a)},jswa.close=function(e){var a=jswa.windows[e];a&&(a.windowRef.close(),delete jswa.windows[e])},jswa.get=function(e){fetch(e).then(e=>e.text()).then(e=>{const a=e.split("\n");let t=0;!function e(){if(t<a.length){const s=a[t].trim();t++;const[o,...n]=s.split(" ");switch(o){case"create":jswa.create(n[0],parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4])),e();break;case"move":jswa.move(n[0],parseFloat(n[1]),parseFloat(n[2]),parseInt(n[3])),e();break;case"resize":jswa.resize(n[0],parseFloat(n[1]),parseFloat(n[2])),e();break;case"write":jswa.write(n[0],n.slice(1).join(" ")),e();break;case"title":jswa.title(n[0],n[1]),e();break;case"close":jswa.close(n[0]),e();break;case"sleep":const a=parseInt(n[0]);setTimeout(()=>e(),a);break;default:console.error(`Unknown function: ${o}`),e()}}}()}).catch(e=>console.error("Error fetching JSWA file:",e))};
