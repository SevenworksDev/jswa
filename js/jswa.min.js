/*
    jswa v1.2 - https://github.com/SevenworksDev/jswa
    Created by https://sevenworks.eu.org
*/

var jswa=jswa||{};jswa.windows={},jswa.create=function(e,a,s,n,t){var o=window.open("",e,`width=${n},height=${t},left=${a},top=${s}`);jswa.windows[e]={windowRef:o,x:a,y:s,width:n,height:t,title:""}},jswa.move=function(e,a,s,n){var t=jswa.windows[e];if(t){var o=t.x,w=t.y,i=a-o,r=s-w,c=null;requestAnimationFrame(function e(a){c||(c=a);var s=(a-c)/n;if(s<1){var l=o+i*s,d=w+r*s;t.windowRef.moveTo(l,d),requestAnimationFrame(e)}}),t.x=a,t.y=s}},jswa.resize=function(e,a,s){var n=jswa.windows[e];n&&(n.windowRef.resizeTo(a,s),n.width=a,n.height=s)},jswa.write=function(e,a){var s=jswa.windows[e];s&&(s.windowRef.document.body.innerHTML=a)},jswa.title=function(e,a){var s=jswa.windows[e];s&&(s.windowRef.document.title=a,s.title=a)},jswa.sound=function(e){new Audio(e).play()},jswa.fullscreen=function(e,a){var s=jswa.windows[e];s&&(s.windowRef.document.documentElement.requestFullscreen(),setTimeout(()=>{document.exitFullscreen()},a))},jswa.shake=function(e,a){var s=jswa.windows[e];if(s){var n=s.x,t=s.y,o=10,w=null;!function e(){if(w||(w=(new Date).getTime()),(new Date).getTime()-w<a){var i=n+(2*Math.random()-1)*o,r=t+(2*Math.random()-1)*o;s.windowRef.moveTo(i,r),setTimeout(e,20)}else s.windowRef.moveTo(n,t)}()}},jswa.hardshake=function(e,a){var s=jswa.windows[e];if(s){var n=s.x,t=s.y,o=60,w=null;!function e(){if(w||(w=(new Date).getTime()),(new Date).getTime()-w<a){var i=n+(2*Math.random()-1)*o,r=t+(2*Math.random()-1)*o;s.windowRef.moveTo(i,r),setTimeout(e,20)}else s.windowRef.moveTo(n,t)}()}},jswa.close=function(e){var a=jswa.windows[e];a&&(a.windowRef.close(),delete jswa.windows[e])},jswa.get=function(e){fetch(e).then(e=>e.text()).then(e=>{const a=e.split("\n");let s=0;!function e(){if(s<a.length){const n=a[s].trim();s++;const[t,...o]=n.split(" ");switch(t){case"create":jswa.create(o[0],parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4])),e();break;case"move":jswa.move(o[0],parseFloat(o[1]),parseFloat(o[2]),parseInt(o[3])),e();break;case"resize":jswa.resize(o[0],parseFloat(o[1]),parseFloat(o[2])),e();break;case"write":jswa.write(o[0],o.slice(1).join(" ")),e();break;case"title":jswa.title(o[0],o[1]),e();break;case"sound":jswa.sound(o[0]),e();break;case"fullscreen":jswa.fullscreen(o[0],parseInt(o[1])),e();break;case"shake":jswa.shake(o[0],parseInt(o[1])),e();break;case"hardshake":jswa.hardshake(o[0],parseInt(o[1])),e();break;case"close":jswa.close(o[0]),e();break;case"sleep":const a=parseInt(o[0]);setTimeout(()=>e(),a);break;default:console.error(`Unknown JSWA command: ${t}`),e()}}}()}).catch(e=>console.error("Error fetching JSWA file:",e))};
